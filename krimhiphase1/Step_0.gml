/// @description Insert description here
// You can write your code in this editor
var bdvugr = false
if bdvugr{
x = max(x,0)
y = max(y,0)
x = min(x,room_width)
y = min(y,room_height)}
if verletzt
image_alpha = cos(4*current_time)
if kp>=0{
switch phase{
	case 1:
	if image_speed =1{
	if image_index>=0&&image_index<=1
	with spieler
	jagen(8,heiler1)
	else 	if image_index>=1&&image_index<=2
	with spieler
	jagen(8,heiler2)
	else 	if image_index>=2&&image_index<=3
	with spieler
	jagen(8,heiler3)
		if image_index>=3&&image_index<=4
	with spieler
	jagen(8,heiler4)
}
else
{
	if instance_exists(spieler)
	if !instance_exists(ultikugel){
		spieler.x = axttest.x
		spieler.y = axttest.y
		spieler.speed = 0
		with instance_create_depth(x,y,0,ultikugel)
		vspeed = 1
	}
			spieler.hspeed = 0
}
if instance_exists(spieler)
if place_meeting(x,y-abs(spieler.vspeed),spieler)&&spieler.vspeed>0{
schaden(150,1,18)
spieler.kannbewegen = true
}
if !instance_exists(ultikugel)
with spieler
if schutz 
if distance_to_object(heiler)>55
instance_destroy()
	break;
	case 2:
	sprite_index = tenoangriffmitpsium
	if instance_exists(spieler)
		if distance_to_object(spieler)>150
	jagen(2,spieler)
var spend = random(128)
if spend = 28
if instance_exists(spieler)
with instance_create_depth(x+69,spieler.y,depth,felsen)
jagen(10,spieler)
	break;
	case 3:
	spieler.horbew = 5
	if kap{
	y = ausgy
	hspeed = horbew
	}
	else
	if instance_exists(spieler)
	{
		if distance_to_object(spieler)>150
	jagen(12,spieler)
	if instance_exists(geschoss)
	geschoss.hspeed = 0.2
	}
	if kp<= 300
	phase = 4
	break;
	case 4 :
	if !spielerziel{
		alarm[8] = 2*room_speed
		spielerziel = true
	}

	break;

}
}
else{
	if instance_exists(deusexlord3d)
	instance_change(besiegtekrimhi,1)
	else
{
	sprite_index = awe
	jagen(4,ildu)
}
}